!function(t,i){function e(e,n){this.element=e,this.cache={},this.width=i(t).width(),this.config={calculate:!1},i.extend(this.config,n),this.orderItems(),i(this.element).addClass("is-prioritised"),i(t).on("resize",this.hideElements.bind(this)),i(t).trigger("resize")}e.prototype.orderItems=function(){var t=i(this.element).children();t=t.sort(function(t,e){var n=i(t),s=i(e);return n.data("priority")>0&&s.data("priority")>0?n.data("priority")>s.data("priority")?1:-1:1}),i(this.element).html(t)},e.prototype.getContentWidth=function(){var t=0;return i(this.element).children().each(function(e,n){i(n).hasClass("is-demoted")||(t+=parseInt(i(n).width()))}),t},e.prototype.hideElements=function(e){var n=this.getContentWidth(),s=i(this.element).width();if(n>s)for(i(this.element).find("[data-priority=0]").addClass("is-demoted");this.getContentWidth()>s;)i(this.element).find("li:not(is-demoted):last").addClass("is-demoted");else if(this.width<i(t).width())for(this.width=i(t).width();parseInt(i(this.element).find("li.is-demoted:first").width())+n<s&&i(this.element).find("li.is-demoted").length>0;)i(this.element).find("li.is-demoted:last").removeClass("is-demoted")},i.fn.PriorityNavigation=function(t){i(this).each(function(n,s){var d=i(s);d.data("prioritised")||(d.data("prioritised","set"),new e(s,t))})}}(window,window.jQuery);